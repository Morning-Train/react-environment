{"version":3,"file":"SetEnvValueOnPayloadOnPipe.js","sources":["../../../src/pipes/SetEnvValueOnPayloadOnPipe.js"],"sourcesContent":["import React from 'react'\r\nimport { useWillPipe } from '@morningtrain/react-pipelines'\r\nimport { useEnv } from '../hooks'\r\nimport set from 'lodash/set'\r\n\r\nexport default function SetEnvValueOnPayloadOnPipe ({\r\n  path,\r\n  payloadPath,\r\n  defaultValue\r\n}) {\r\n  const env = useEnv()\r\n\r\n  useWillPipe((payload) => {\r\n    return new Promise((resolve, reject) => {\r\n      const value = env.get(path, defaultValue)\r\n\r\n      set(payload, payloadPath, value)\r\n\r\n      resolve(payload)\r\n    })\r\n  }, [env, path, payloadPath, defaultValue])\r\n\r\n  return null\r\n}\r\n"],"names":["SetEnvValueOnPayloadOnPipe","path","payloadPath","defaultValue","env","useEnv","useWillPipe","payload","Promise","resolve","reject","value","get","set"],"mappings":";;;;;;;;;;;AAKe,SAASA,0BAAT,CAIZ,IAAA,EAAA;AAAA,EAHDC,IAAAA,IAGC,QAHDA,IAGC;AAAA,MAFDC,WAEC,QAFDA,WAEC;AAAA,MADDC,YACC,QADDA,YACC,CAAA;AACD,EAAMC,IAAAA,GAAG,GAAGC,MAAM,EAAlB,CAAA;AAEAC,EAAAA,0BAAW,CAAC,UAACC,OAAD,EAAa;AACvB,IAAA,OAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,MAAMC,IAAAA,KAAK,GAAGP,GAAG,CAACQ,GAAJ,CAAQX,IAAR,EAAcE,YAAd,CAAd,CAAA;AAEAU,MAAAA,wBAAG,CAACN,OAAD,EAAUL,WAAV,EAAuBS,KAAvB,CAAH,CAAA;AAEAF,MAAAA,OAAO,CAACF,OAAD,CAAP,CAAA;AACD,KANM,CAAP,CAAA;AAOD,GARU,EAQR,CAACH,GAAD,EAAMH,IAAN,EAAYC,WAAZ,EAAyBC,YAAzB,CARQ,CAAX,CAAA;AAUA,EAAA,OAAO,IAAP,CAAA;AACD;;;;"}