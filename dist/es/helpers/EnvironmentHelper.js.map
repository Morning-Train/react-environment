{"version":3,"file":"EnvironmentHelper.js","sources":["../../../src/helpers/EnvironmentHelper.js"],"sourcesContent":["import Repository from './Repository'\n\nexport default class EnvironmentHelper extends Repository {\n  constructor (initialData) {\n    const __global = window || global\n    const data = initialData || (__global.env || { })\n\n    super(data)\n\n    // Attach server side setEnv helper\n    if (this.server()) {\n      const env = this\n\n      __global.setEnv = function (data) {\n        env.set(data)\n      }\n    }\n  }\n\n  server () {\n    return this.get('environment') === 'server'\n  }\n\n  client () {\n    return this.server() === false\n  }\n\n  debug () {\n    return this.get('debug', true) === true\n  }\n\n  csrfToken () {\n    if (this.server()) {\n      return\n    }\n\n    const tokenMeta = document.head.querySelector('meta[name=csrf-token]')\n    return tokenMeta ? tokenMeta.content : null\n  }\n}\n\nexport const Env = new EnvironmentHelper()\n"],"names":["EnvironmentHelper","initialData","__global","window","global","data","env","server","setEnv","set","get","tokenMeta","document","head","querySelector","content","Repository","Env"],"mappings":";;;IAEqBA;;;;;AACnB,6BAAaC,WAAb,EAA0B;AAAA;;AAAA;;AACxB,QAAMC,QAAQ,GAAGC,MAAM,IAAIC,MAA3B;;AACA,QAAMC,IAAI,GAAGJ,WAAW,IAAKC,QAAQ,CAACI,GAAT,IAAgB,EAA7C;AAEA,8BAAMD,IAAN,EAJwB;;AAOxB,QAAI,MAAKE,MAAL,EAAJ,EAAmB;AACjB,UAAMD,GAAG,gCAAT;;AAEAJ,MAAAA,QAAQ,CAACM,MAAT,GAAkB,UAAUH,IAAV,EAAgB;AAChCC,QAAAA,GAAG,CAACG,GAAJ,CAAQJ,IAAR;AACD,OAFD;AAGD;;AAbuB;AAczB;;;;WAED,kBAAU;AACR,aAAO,KAAKK,GAAL,CAAS,aAAT,MAA4B,QAAnC;AACD;;;WAED,kBAAU;AACR,aAAO,KAAKH,MAAL,OAAkB,KAAzB;AACD;;;WAED,iBAAS;AACP,aAAO,KAAKG,GAAL,CAAS,OAAT,EAAkB,IAAlB,MAA4B,IAAnC;AACD;;;WAED,qBAAa;AACX,UAAI,KAAKH,MAAL,EAAJ,EAAmB;AACjB;AACD;;AAED,UAAMI,SAAS,GAAGC,QAAQ,CAACC,IAAT,CAAcC,aAAd,CAA4B,uBAA5B,CAAlB;AACA,aAAOH,SAAS,GAAGA,SAAS,CAACI,OAAb,GAAuB,IAAvC;AACD;;;;EApC4CC;IAuClCC,GAAG,GAAG,IAAIjB,iBAAJ;;;;;"}