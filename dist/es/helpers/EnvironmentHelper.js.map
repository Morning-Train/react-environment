{"version":3,"file":"EnvironmentHelper.js","sources":["../../../src/helpers/EnvironmentHelper.js"],"sourcesContent":["import Repository from './Repository'\n\nexport default class EnvironmentHelper extends Repository {\n  constructor (initialData) {\n    const __global = window || global\n    const data = initialData || (__global.env || { })\n\n    super(data)\n\n    // Attach server side setEnv helper\n    if (this.server()) {\n      const env = this\n\n      __global.setEnv = function (data) {\n        env.set(data)\n      }\n    }\n  }\n\n  server () {\n    return this.get('environment') === 'server'\n  }\n\n  client () {\n    return this.server() === false\n  }\n\n  debug () {\n    return this.get('debug', true) === true\n  }\n\n  csrfToken () {\n    if (this.server()) {\n      return\n    }\n\n    const tokenMeta = document.head.querySelector('meta[name=csrf-token]')\n    return tokenMeta ? tokenMeta.content : null\n  }\n}\n\nexport const Env = new EnvironmentHelper()\n"],"names":["EnvironmentHelper","initialData","__global","window","global","data","env","server","setEnv","set","get","tokenMeta","document","head","querySelector","content","Repository","Env"],"mappings":";;;;;;;;;;;;IAEqBA;;;;;AACnB,EAAA,SAAA,iBAAA,CAAaC,WAAb,EAA0B;AAAA,IAAA,IAAA,KAAA,CAAA;;AAAA,IAAA,eAAA,CAAA,IAAA,EAAA,iBAAA,CAAA,CAAA;;AACxB,IAAA,IAAMC,QAAQ,GAAGC,MAAM,IAAIC,MAA3B,CAAA;;AACA,IAAMC,IAAAA,IAAI,GAAGJ,WAAW,IAAKC,QAAQ,CAACI,GAAT,IAAgB,EAA7C,CAAA;AAEA,IAAMD,KAAAA,GAAAA,MAAAA,CAAAA,IAAAA,CAAAA,IAAAA,EAAAA,IAAN,EAJwB;;AAOxB,IAAI,IAAA,KAAA,CAAKE,MAAL,EAAJ,EAAmB;AACjB,MAAA,IAAMD,GAAG,GAAT,sBAAA,CAAA,KAAA,CAAA,CAAA;;AAEAJ,MAAAA,QAAQ,CAACM,MAAT,GAAkB,UAAUH,IAAV,EAAgB;AAChCC,QAAAA,GAAG,CAACG,GAAJ,CAAQJ,IAAR,CAAA,CAAA;AACD,OAFD,CAAA;AAGD,KAAA;;AAbuB,IAAA,OAAA,KAAA,CAAA;AAczB,GAAA;;;;WAED,SAAU,MAAA,GAAA;AACR,MAAA,OAAO,IAAKK,CAAAA,GAAL,CAAS,aAAT,MAA4B,QAAnC,CAAA;AACD,KAAA;;;WAED,SAAU,MAAA,GAAA;AACR,MAAO,OAAA,IAAA,CAAKH,MAAL,EAAA,KAAkB,KAAzB,CAAA;AACD,KAAA;;;WAED,SAAS,KAAA,GAAA;AACP,MAAA,OAAO,KAAKG,GAAL,CAAS,OAAT,EAAkB,IAAlB,MAA4B,IAAnC,CAAA;AACD,KAAA;;;WAED,SAAa,SAAA,GAAA;AACX,MAAI,IAAA,IAAA,CAAKH,MAAL,EAAJ,EAAmB;AACjB,QAAA,OAAA;AACD,OAAA;;AAED,MAAMI,IAAAA,SAAS,GAAGC,QAAQ,CAACC,IAAT,CAAcC,aAAd,CAA4B,uBAA5B,CAAlB,CAAA;AACA,MAAA,OAAOH,SAAS,GAAGA,SAAS,CAACI,OAAb,GAAuB,IAAvC,CAAA;AACD,KAAA;;;;EApC4CC;AAuClCC,IAAAA,GAAG,GAAG,IAAIjB,iBAAJ;;;;"}