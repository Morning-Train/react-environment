{"version":3,"file":"SetEnvValueOnPayloadOnPipe.js","sources":["../../../src/pipes/SetEnvValueOnPayloadOnPipe.js"],"sourcesContent":["import React from 'react'\r\nimport { useWillPipe } from '@morningtrain/react-pipelines'\r\nimport { useEnv } from '../hooks'\r\nimport set from 'lodash/set'\r\n\r\nexport default function SetEnvValueOnPayloadOnPipe ({\r\n  path,\r\n  payloadPath,\r\n  defaultValue\r\n}) {\r\n  const env = useEnv()\r\n\r\n  useWillPipe((payload) => {\r\n    return new Promise((resolve, reject) => {\r\n      const value = env.get(path, defaultValue)\r\n\r\n      set(payload, payloadPath, value)\r\n\r\n      resolve(payload)\r\n    })\r\n  }, [env, path, payloadPath, defaultValue])\r\n\r\n  return null\r\n}\r\n"],"names":["SetEnvValueOnPayloadOnPipe","path","payloadPath","defaultValue","env","useEnv","useWillPipe","payload","Promise","resolve","reject","value","get","set"],"mappings":";;;;;AAKe,SAASA,0BAAT,OAIZ;AAAA,MAHDC,IAGC,QAHDA,IAGC;AAAA,MAFDC,WAEC,QAFDA,WAEC;AAAA,MADDC,YACC,QADDA,YACC;AACD,MAAMC,GAAG,GAAGC,MAAM,EAAlB;AAEAC,EAAAA,WAAW,CAAC,UAACC,OAAD,EAAa;AACvB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAMC,KAAK,GAAGP,GAAG,CAACQ,GAAJ,CAAQX,IAAR,EAAcE,YAAd,CAAd;AAEAU,MAAAA,IAAG,CAACN,OAAD,EAAUL,WAAV,EAAuBS,KAAvB,CAAH;AAEAF,MAAAA,OAAO,CAACF,OAAD,CAAP;AACD,KANM,CAAP;AAOD,GARU,EAQR,CAACH,GAAD,EAAMH,IAAN,EAAYC,WAAZ,EAAyBC,YAAzB,CARQ,CAAX;AAUA,SAAO,IAAP;AACD;;;;"}