(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{77:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"metadata",(function(){return l})),t.d(n,"toc",(function(){return c})),t.d(n,"default",(function(){return p}));var a=t(3),i=t(7),r=(t(0),t(88)),o={title:"WhenEnvValueMatches"},l={unversionedId:"conditionals/when-env-value-matches",id:"conditionals/when-env-value-matches",isDocsHomePage:!1,title:"WhenEnvValueMatches",description:"This component will render its children when the ENV value at path matches a given condition.",source:"@site/docs/conditionals/when-env-value-matches.md",slug:"/conditionals/when-env-value-matches",permalink:"/conditionals/when-env-value-matches",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/conditionals/when-env-value-matches.md",version:"current",sidebar:"someSidebar",previous:{title:"TriggerPipelineOnEnvChange",permalink:"/triggers/trigger-pipeline-on-env-change"},next:{title:"Environment",permalink:"/providers/environment"}},c=[{value:"Props",id:"props",children:[]},{value:"Examples",id:"examples",children:[]}],s={toc:c};function p(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},s,t,{components:n,mdxType:"MDXLayout"}),Object(r.b)("p",null,"This component will render its children when the ENV value at ",Object(r.b)("inlineCode",{parentName:"p"},"path")," matches a given condition."),Object(r.b)("p",null,"It could be used to conditionally render children basic on potentially changing ENV values."),Object(r.b)("p",null,"Especially in larger projects, it is recommended to encapsulate uses of ",Object(r.b)("inlineCode",{parentName:"p"},"WhenEnvValueMatches")," into custom conditional components.\nThis will help to create reusable components with custom business logic at the project level.\nDoing this, it becomes easier to update the business logic in a central location."),Object(r.b)("h3",{id:"props"},"Props"),Object(r.b)("h4",{id:"path"},"path:"),Object(r.b)("p",null,"The prop ",Object(r.b)("inlineCode",{parentName:"p"},"path")," is a string indicating where to find the value in the ENV object."),Object(r.b)("p",null,"Usings dots in the ",Object(r.b)("inlineCode",{parentName:"p"},"path")," will target nested values."),Object(r.b)("p",null,"Given the following ENV object: "),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-json"},'{\n  "test": {\n    "path": {\n      "to": {\n        "boolean": false\n      }\n    }\n  }\n}\n')),Object(r.b)("p",null,"We can target the nested boolean value using this path: ",Object(r.b)("inlineCode",{parentName:"p"},"test.path.to.boolean"),"."),Object(r.b)("h4",{id:"matches"},"matches:"),Object(r.b)("p",null,"The ",Object(r.b)("inlineCode",{parentName:"p"},"matches")," prop is used to indicate what the ENV value should be matched against."),Object(r.b)("p",null,"If the prop is not provided, then it will make a simple existence check.\nThe conditional will be true if the ENV value is not ",Object(r.b)("inlineCode",{parentName:"p"},"undefined")," and is not ",Object(r.b)("inlineCode",{parentName:"p"},"null"),"."),Object(r.b)("p",null,"If ",Object(r.b)("inlineCode",{parentName:"p"},"matches")," is a function, then the return value of that function will be used.\nThe function is passed the current ENV value as the only parameter."),Object(r.b)("p",null,"Passing any simple value (string, number, boolean) will make an exact match check against the ENV value."),Object(r.b)("p",null,"If the exact check fails, then it will make a string cast equality check using this logic: ",Object(r.b)("em",{parentName:"p"},"`","${value}","`"," === ","`","${match}","`")),Object(r.b)("h4",{id:"negate"},"negate:"),Object(r.b)("p",null,"The ",Object(r.b)("inlineCode",{parentName:"p"},"negate")," prop is a boolean (defaults to ",Object(r.b)("inlineCode",{parentName:"p"},"false"),") that can be set to invert the conditional.\nSetting the negate prop to ",Object(r.b)("inlineCode",{parentName:"p"},"true")," will render the children when the ENV value does not match."),Object(r.b)("h3",{id:"examples"},"Examples"),Object(r.b)("h4",{id:"whenuseristrial-simple-boolean-value"},"WhenUserIsTrial (simple boolean value)"),Object(r.b)("p",null,"This is a very basic example of creating a conditional to check a boolean value in the environment."),Object(r.b)("p",null,"It looks at the value ",Object(r.b)("inlineCode",{parentName:"p"},"user.is_trial")," and renders its children if the value is ",Object(r.b)("inlineCode",{parentName:"p"},"true")," and ",Object(r.b)("inlineCode",{parentName:"p"},"negate")," is ",Object(r.b)("inlineCode",{parentName:"p"},"false"),"."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-jsx"},'import React from "react";\nimport {WhenEnvValueMatches} from "@morningtrain/react-environment";\n\nexport default function WhenUserIsTrial({\n  negate = false,\n  children\n}) {\n    return (\n        <WhenEnvValueMatches path={\'user.is_trial\'} matches negate={negate}>\n            {children}\n        </WhenEnvValueMatches>\n    );\n}\n')))}p.isMDXComponent=!0},88:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return d}));var a=t(0),i=t.n(a);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=i.a.createContext({}),p=function(e){var n=i.a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},u=function(e){var n=p(e.components);return i.a.createElement(s.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},h=i.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,o=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),u=p(t),h=a,d=u["".concat(o,".").concat(h)]||u[h]||b[h]||r;return t?i.a.createElement(d,l(l({ref:n},s),{},{components:t})):i.a.createElement(d,l({ref:n},s))}));function d(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,o=new Array(r);o[0]=h;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var s=2;s<r;s++)o[s]=t[s];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,t)}h.displayName="MDXCreateElement"}}]);